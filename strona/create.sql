create table chats (groups_id bigint, id bigint generated by default as identity, name varchar(255), primary key (id));
create table chat_users (id bigint generated by default as identity, users_id bigint, username varchar(255), primary key (id));
create table groups (id bigint generated by default as identity, name varchar(255), primary key (id));
create table message (id bigint generated by default as identity, timestamp timestamp(6), user_chat_mapping_id bigint, content varchar(255), primary key (id));
create table roles (id bigint generated by default as identity, name varchar(255), primary key (id));
create table user_chat_mapping (chat_users_id bigint, chats_id bigint, id bigint generated by default as identity, primary key (id));
create table user_group_mapping (groups_id bigint, id bigint generated by default as identity, roles_id bigint, users_id bigint, primary key (id));
create table user (id bigint generated by default as identity, auth_key varchar(255) not null, email varchar(255), first_name varchar(255) not null, last_name varchar(255) not null, password varchar(255), primary key (id));
alter table if exists chats add constraint FKch66t7thbwgcl2j3ypqvch13f foreign key (groups_id) references groups;
alter table if exists chat_users add constraint FKchyf3h9uvw98r0hv6t5850q1n foreign key (users_id) references user;
alter table if exists message add constraint FKd6e08bb9nhj992kma0r6777dq foreign key (user_chat_mapping_id) references user_chat_mapping;
alter table if exists user_chat_mapping add constraint FKtqme8fwdw2nq4nquttifiwla1 foreign key (chats_id) references chats;
alter table if exists user_chat_mapping add constraint FKmi4lkpqosu56xe75fku0pudf0 foreign key (chat_users_id) references chat_users;
alter table if exists user_group_mapping add constraint FKa88e1jtjkeq9io2dc9gvvy0d0 foreign key (groups_id) references groups;
alter table if exists user_group_mapping add constraint FKfvjyay0dkbjlveggjy3dmapyr foreign key (roles_id) references roles;
alter table if exists user_group_mapping add constraint FKix6687ioyf3x35ovwoswh2h7a foreign key (users_id) references user;
